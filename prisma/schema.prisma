generator client {
	provider = "prisma-client"
	output = "./generated"
	engineType = "client"
	runtime = "bun"
}
datasource db {
  provider = "postgresql"
}

enum MessageType {
	RESULT
	ERROR
}

enum MessageRole {
	USER
	ASSISTANT
}

model Message {
	id String @id @default(cuid())
	content String
	messageType MessageType
	role MessageRole
	createdAt DateTime @default(now())
	updatedAt DateTime @updatedAt
	fragment Fragment?
}

model Fragment{
	id String @id @default(cuid())
	messageId String @unique
	message Message @relation(fields: [messageId], references: [id],onDelete: Cascade)
	sandboxUrl String
	title String
	files Json
	createdAt DateTime @default(now())
	updatedAt DateTime @updatedAt
}